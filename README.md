# NPB 順位予想集計ツール

日本プロ野球（NPB）のセ・パ両リーグの順位予想を入力し、集計・一覧表示するためのWebツールです。
Google Apps Script (GAS) 上でHTML/JS/CSSをホストし、Google Sheetsと連携して動作します。

## 特徴

- **GAS完結構成**: 外部サーバーやGitHub Pagesは不要。GASエディタにコードを貼り付けるだけで即座に公開可能。
- **権限問題の回避**: 同一ドメイン内で処理が完結するため、クロスドメイン制約（CORS）や権限エラーに悩まされることがありません。
- **ドラッグ＆ドロップ機能**: チーム順位を直感的に入れ替え可能。
- **チームカラー表示**: 各チームのカラーを反映した見やすい集計テーブル。

## ディレクトリ構成

```
.
├── backend/          # Google Apps Script プロジェクト用ファイル
│   ├── code.gs       # サーバーサイドロジック
│   ├── index.html    # メインHTML構造
│   ├── css.html      # スタイルシート（ブラッシュアップ版）
│   ├── js.html       # フロントエンドロジック (DnD, 通信処理)
│   └── README.md     # 詳細セットアップ手順
└── README.md         # 本ファイル
```

## セットアップ手順

詳細は [backend/README.md](./backend/README.md) を参照してください。

### クイックスタート
1. **Googleスプレッドシート**を作成し、`拡張機能` > `Apps Script` を開きます。
2. `backend/` フォルダ内の 4 つのファイルを、GASエディタ上に同じ名前で作成（コピー＆ペースト）します。
3. エディタ上部の関数選択で `setupSheet` を選んで実行し、シートを初期化します。
4. `デプロイ` > `新しいデプロイ` から「ウェブアプリ」として公開します（アクセスできるユーザーは「全員」）。
5. 発行されたURLにアクセスすれば完了です！

## リリースノート

### v2.0 (2026-01-22)
- **GASホスティング構成への完全移行**: GitHub Pagesを使用せず、Google Apps Script上でフロントエンドを直接動作させる構成に変更しました。これにより外部通信時の権限エラーを解消しました。
- **リーグ間移動の制限機能**: セ・リーグとパ・リーグの間でチームをドラッグ＆ドロップできないように制限し、誤操作による登録ミスを防止しました。
- **直接アクセス機能**: URLに `?page=result` を付けることで、集計結果画面を直接表示できるようになりました。
- **UI/UXの改善**: ドラッグ操作中のカードに影と拡大の効果を追加し、操作感を向上させました。
- **クリーンアップ**: 不要な `frontend/` ディレクトリを削除し、コードとファイルを整理しました。

### v1.0
- 初回リリース（ドラッグ＆ドロップによる順位予想機能の実装）。

## ライセンス
MIT License
